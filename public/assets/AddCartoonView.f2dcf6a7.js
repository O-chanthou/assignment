import{_ as X,f as T,g as E,h as o,i as Y,j as Z,o as i,c as _,e as V,w as L,k as U,u as k,l as P,T as q,a as l,t as n,m as p,v,n as M,p as A,F as O,r as R,q as x,x as ee,y as te}from"./index.360080b6.js";import{a as w,u as ae}from"./all-genre-type.d915d15e.js";import{p as le,e as se,d as ne}from"./firebase-config.2a97ce7f.js";const oe=async s=>{try{const d=await le(se(ne,"cartoons"),{title:s.title,year:s.year,rating:s.rating,runtime_in_minutes:s.runtime_in_minutes,isFav:s.isFav,image:s.image,genre:s.genre,episodes:s.episodes,creator:s.creator});return console.log("Document written with ID: ",d.id),"success"}catch(d){return console.error("Error adding document: ",d),"fail"}};const I=s=>(ee("data-v-285edc67"),s=s(),te(),s),re=["onSubmit"],ie={class:"add-ctn-container"},ue={class:"form-input"},de=["placeholder"],ce=["placeholder"],me=["placeholder","onKeyup"],pe={class:"tip"},ve=I(()=>l("b",null,"Alt",-1)),_e=I(()=>l("b",null,",",-1)),fe=I(()=>l("br",null,null,-1)),ge=["placeholder"],he=["onClick"],ye=I(()=>l("br",null,null,-1)),be=["placeholder"],$e=["placeholder"],Ce={class:"form-img-submit"},ke={class:"choose-img"},we={class:"btn-submit-form-ctn"},Ve={__name:"AddCartoon",setup(s){const d=T(()=>E(()=>import("./Preloader.26bb55c6.js"),["assets/Preloader.26bb55c6.js","assets/index.360080b6.js","assets/index.9ab57275.css","assets/Preloader.4031abe0.css"])),D=T(()=>E(()=>import("./ToastNotification.1c1360fe.js"),["assets/ToastNotification.1c1360fe.js","assets/index.360080b6.js","assets/index.9ab57275.css","assets/ToastNotification.4d78b82b.css"])),j=T(()=>E(()=>import("./PreviewImage.8ef1db8e.js"),["assets/PreviewImage.8ef1db8e.js","assets/index.360080b6.js","assets/index.9ab57275.css","assets/PreviewImage.3c45af48.css"])),g=o(""),h=o(null),c=o(""),m=o([]),y=o(null);let r=[];const b=o(null),$=o(null),S=Y({fileName:"",imageBase64:""}),B=o(""),f=o(!1),F=o(!1),C=o(!1);Z(()=>{const e=w.value,a=r;a==null||a.map(t=>e.find(u=>u.name==t).isSelect=!1)});const G=e=>{e.key===","&&c.value&&(m.value.includes(c.value)||m.value.push(c.value),c.value="")},K=e=>{m.value.splice(e,1)},z=e=>{r.includes(e)?r.forEach((a,t)=>{a==e&&(r.splice(t,1),N(e))}):(r.push(e),N(e)),console.log(r)},N=e=>{w.value.forEach(a=>{a.name==e&&(a.isSelect=!a.isSelect)})},H=e=>{S.fileName=e.fileName,S.imageBase64=e.imageBase64},J=async()=>{C.value=!0,await ae(S).then(t=>{B.value=t});const e={title:g.value,year:h.value,creator:m.value,rating:y.value,genre:r,runtime_in_minutes:b.value,episodes:$.value,image:B.value,id:Math.floor(Math.random()*1e7),isFav:!1},a=async()=>{g.value="",h.value=null,m.value=[],y.value=null,b.value=null,$.value=null;const t=w.value,u=r;u==null||u.map(Q=>t.find(W=>W.name==Q).isSelect=!1),r=[]};await oe(e).then(async t=>{t=="success"?(F.value=!0,f.value=!0,C.value=!1,setTimeout(()=>f.value=!1,2500),await a()):(f.value=!0,C.value=!1,setTimeout(()=>f.value=!1,2500))})};return(e,a)=>(i(),_("form",{ref:"form-create-ctn",onSubmit:M(J,["prevent"])},[V(q,{name:"preloader"},{default:L(()=>[C.value?(i(),U(k(d),{key:0})):P("",!0)]),_:1}),l("div",ie,[l("div",ue,[l("label",null,n(e.$t("create.title"))+":",1),p(l("input",{type:"text",placeholder:e.$t("create.title"),required:"","onUpdate:modelValue":a[0]||(a[0]=t=>g.value=t)},null,8,de),[[v,g.value]]),l("label",null,n(e.$t("create.year"))+":",1),p(l("input",{type:"number",min:"0",placeholder:e.$t("create.year"),required:"","onUpdate:modelValue":a[1]||(a[1]=t=>h.value=t)},null,8,ce),[[v,h.value]]),l("label",null,n(e.$t("create.creator"))+":",1),p(l("input",{type:"text",placeholder:e.$t("create.creator"),"onUpdate:modelValue":a[2]||(a[2]=t=>c.value=t),onKeyup:M(G,["alt"])},null,40,me),[[v,c.value]]),l("div",pe,[l("p",null,[A(n(e.$t("create.add-click"))+" ",1),ve,A(" + "),_e,A(" "+n(e.$t("create.and-remove-click-value")),1)])]),(i(!0),_(O,null,R(m.value,t=>(i(),_("div",{key:t,class:"creator",onClick:a[3]||(a[3]=u=>K(e.i))},n(t),1))),128)),fe,l("label",null,n(e.$t("create.rating"))+":",1),p(l("input",{type:"text",placeholder:e.$t("create.rating"),"onUpdate:modelValue":a[4]||(a[4]=t=>y.value=t)},null,8,ge),[[v,y.value]]),l("label",null,n(e.$t("create.genre"))+":",1),(i(!0),_(O,null,R(k(w),t=>(i(),_("div",{class:x(["genre",{active:t.isSelect}]),key:t.id,onClick:u=>z(t.name)},n(e.$t(`genre.${t.name}`)),11,he))),128)),ye,l("label",null,n(e.$t("create.runtime"))+":",1),p(l("input",{type:"number",placeholder:e.$t("create.runtime-min"),required:"","onUpdate:modelValue":a[5]||(a[5]=t=>b.value=t)},null,8,be),[[v,b.value]]),l("label",null,n(e.$t("create.ep"))+":",1),p(l("input",{type:"number",placeholder:e.$t("create.ep"),required:"","onUpdate:modelValue":a[6]||(a[6]=t=>$.value=t)},null,8,$e),[[v,$.value]])]),l("div",Ce,[l("div",ke,[V(k(j),{onEmitImage:H})]),l("div",we,[l("button",null,n(e.$t("create.add-cartoon")),1)])])]),V(q,{name:"toast"},{default:L(()=>[f.value?(i(),U(k(D),{key:0,msg:F.value},null,8,["msg"])):P("",!0)]),_:1})],40,re))}},Ie=X(Ve,[["__scopeId","data-v-285edc67"]]),Ae={__name:"AddCartoonView",setup(s){return(d,D)=>(i(),_("div",null,[V(Ie)]))}};export{Ae as default};
